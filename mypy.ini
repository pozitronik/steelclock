[mypy]
check_untyped_defs = True
disallow_any_generics = True
disallow_untyped_calls = True
disallow_untyped_defs = True
ignore_missing_imports = True
strict_optional = True

# Exclude virtual environment, utility scripts, tests, and other directories
exclude = venv/|\.venv/|build/|dist/|backend/alembic/|fix_tests\.py|add_return_types\.py|tests/

# Python version to target
python_version = 3.12

# Additional helpful settings
warn_return_any = True
warn_unused_configs = True

# Per-module overrides for PIL-related issues and psutil fallback
[mypy-utils.bitmap]
disable_error_code = attr-defined

[mypy-utils.text_renderer]
disable_error_code = assignment

[mypy-core.layout_manager]
disable_error_code = attr-defined

[mypy-widgets.keyboard]
disable_error_code = assignment

[mypy-widgets.cpu]
disable_error_code = assignment,arg-type

[mypy-widgets.memory]
disable_error_code = assignment

[mypy-widgets.disk]
disable_error_code = assignment

[mypy-widgets.network]
disable_error_code = assignment
